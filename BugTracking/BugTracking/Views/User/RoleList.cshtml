@model IEnumerable<BugTracking.Models.AspNetUser>

<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-12">
        <h2>User Role List</h2>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <div class="ibox float-e-margins">

            <div class="ibox-content">
                <a class="btn btn-primary" href=@Url.Action("AssignRole", "User") role="button">Assign</a>
                <table class="table table-hover">
                    <thead>
                        <tr>

                            <th>@Html.DisplayNameFor(model => model.Users.FirstOrDefault().FirstName)</th>
                            <th>@Html.DisplayNameFor(model => model.Users.FirstOrDefault().LastName )</th>
                            <th>@Html.DisplayNameFor(model => model.Users.FirstOrDefault().Email)</th>
                            <th>@Html.DisplayNameFor(model => model.AspNetUserRoles.FirstOrDefault().AspNetRole.Name)</th>
                            <th>@Html.DisplayNameFor(model => model.AspNetUserRoles.FirstOrDefault().AspNetRole.Description )</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>

                       

                            @{ 

                                var list = Model.ToList();

                                for (int i=0;i<list.Count;i++)
                                {
                                    for(int j=0;j<list[i].AspNetUserRoles.Count;j++)
                                    { 
                            <tr>

                                <td>
                                    @Html.DisplayFor(modelItem => list[i].Users[0].FirstName)
                                </td>
                                <td>@Html.DisplayFor(modelItem => list[i].Users[0].LastName)</td>
                                <td>@Html.DisplayFor(modelItem => list[i].Users[0].Email)</td>
                                <td>@Html.DisplayFor(modelItem => list[i].AspNetUserRoles[j].AspNetRole.Name )</td>
                                <td>@Html.DisplayFor(modelItem => list[i].AspNetUserRoles[j].AspNetRole.Description)</td>
                                <td class="text-navy">
                                    <a href=@Url.Action("EditUserRole", "User", new { id = list[i].AspNetUserRoles[j].RoleId})><i class="fa fa-cog"></i></a>
                                    <a href=@Url.Action("DeleteUserRole", "User", new { id = list[i].AspNetUserRoles[j].RoleId })><i class="fa fa-trash"></i></a>
                                </td>
                            </tr>
                                }
                            }

                        }

                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>